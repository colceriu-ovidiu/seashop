<?phpnamespace CO\ArticlesBundle\Controller;use Symfony\Bundle\FrameworkBundle\Controller\Controller;use Sensio\Bundle\FrameworkExtraBundle\Configuration\Route;use Sensio\Bundle\FrameworkExtraBundle\Configuration\Template;class ArticleController extends Controller{	const comments_enable = false;    /**     * @Route("/", requirements={"method"="GET"}, name="articles_list")     * @Template()     */    public function indexAction()    {        $em = $this->getDoctrine()->getManager();                $articles = $em->getRepository('COArticlesBundle:Article')->getLatestBlogs();                return array(            "articles" => $articles        );    }        /**     * @Route("/article/{id}/{slug}", requirements={"method"="GET", "id"="\d+"}, name="_show_article")     * @Template()     */    public function showAction($id, $slug)    {        $em = $this->getDoctrine()->getManager();        $article = $em->getRepository('COArticlesBundle:Article')->find($id);        if (!$article) {			throw $this->createNotFoundException('Unable to find Article post.');        }				$comments = $em->getRepository('COArticlesBundle:Comment')							->getCommentsForBlog($article->getId());        return $this->render('COArticlesBundle:Article:show.html.twig', array(			'article' => $article,			'comments_enable' => self::comments_enable,			'comments' => $comments		));    }		/**	 * @Template	 */	public function sidebarAction()	{		$em = $this->getDoctrine()				   ->getManager();		$tags = $em->getRepository('COArticlesBundle:Article')				->getTags();		$tagWeights = $em->getRepository('COArticlesBundle:Article')					  ->getTagWeights($tags);				$commentLimit   = $this->container->getParameter('co_articles.comments.latest_comment_limit');				$latestComments = $em->getRepository('COArticlesBundle:Comment')                         ->getLatestComments($commentLimit);		return array(			'tags' => $tagWeights,			'latestComments' => $latestComments		);	}	}